# Story 2.4: Clear All Filters

## Status
Ready

## Story
**As a** user,  
**I want** to clear all filters quickly,  
**so that** I can reset my view and start fresh with all penguins visible.

## Acceptance Criteria

1. "Clear filters" button visible when any filter active
2. Shows count of active filters
3. Single click resets all filters
4. Announces action to screen readers

## Tasks / Subtasks

- [ ] **Task 1: Clear Button Component** (AC: 1, 2, 4)
  - [ ] Create `src/components/filters/ClearFiltersButton.tsx`
  - [ ] Use Strudel Button component
  - [ ] Show active filter count badge
  - [ ] Add aria-label for screen readers

- [ ] **Task 2: Reset State Logic** (AC: 3)
  - [ ] Update `src/stores/filterStore.ts` to clear all states
  - [ ] Reset URL parameters to defaults
  - [ ] Clear all visual indicators
  - [ ] Test with SpeciesFilter + IslandFilter + SexFilter

- [ ] **Task 3: Visual Implementation** (AC: 1, 2)
  - [ ] Only show button when â‰¥1 filter active
  - [ ] Display filter count (e.g., "Clear 3 filters")
  - [ ] Add hover states and focus indicators
  - [ ] Position in filter control panel

- [ ] **Task 4: Testing Implementation**
  - [ ] Write Cypress tests for clear functionality
  - [ ] Verify URL parameters reset
  - [ ] Test filter count accuracy
  - [ ] Validate screen reader announcement

## Dev Notes

### Component Requirements
**Source: [architecture/tech-stack.md#ui-framework]**
- Primary button style from Strudel design system
- Badge for displaying count (max 99+)
- Focus management and keyboard navigation

### State Management
**Source: [architecture/tech-stack.md#state-management]**
- Atomic reset across all filter states
- URL parameter cleanup
- Debounced re-render for performance

### Integration Requirements
**Source: [architecture/source-tree.md]**
- Must integrate with existing SpeciesFilter, IslandFilter, SexFilter
- Shared `ClearFilters.tsx` component for reusability
- Test file: `src/components/filters/-tests/ClearFilters.cy.ts`

### Testing Notes
**Source: [architecture/testing-strategy.md]**
- Test scenarios:
  - Button shows/hides correctly
  - Count accuracy with mixed active filters
  - URL parameter clearing
  - Screen reader announcement timing
  - Keyboard navigation support
- Dependency: Requires completed Stories 2.1, 2.2, 2.3

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2024-09-04 | 1.0 | Created from PRD US2.4 | BMad SM |